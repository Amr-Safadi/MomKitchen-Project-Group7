<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.CheckBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>

<ScrollPane fitToHeight="true" fitToWidth="true" prefHeight="600.0" prefWidth="600.0" style="-fx-background-image: url('/Images/NEWBACKGRND.jpg'); -fx-background-size: cover; -fx-padding: 10;" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="il.cshaifasweng.OCSFMediatorExample.client.Controllers.ComplaintManageController">

    <content>
        <AnchorPane fx:id="rootPane" prefHeight="600.0" prefWidth="600.0" style="-fx-background-color: transparent;">

            <!-- Title -->
            <Label layoutX="20" layoutY="20" style="-fx-font-size: 18px; -fx-font-weight: bold;" text="Unresolved Complaints" />

            <!-- Unresolved Complaints Table -->
            <TableView fx:id="unresolvedTable" layoutX="20" layoutY="50" onMouseClicked="#handleComplaintDoubleClick" prefHeight="250" prefWidth="750">
                <columns>
                    <TableColumn fx:id="idColumn" prefWidth="50" text="ID" />
                    <TableColumn fx:id="nameColumn" prefWidth="120" text="Customer Name" />
                    <TableColumn fx:id="emailColumn" prefWidth="180" text="Email" />
                    <TableColumn fx:id="branchColumn" prefWidth="100" text="Branch" />
                    <TableColumn fx:id="submittedColumn" prefWidth="150" text="Time Submitted" />
                </columns>
            </TableView>

            <!-- Resolution Section -->
            <Label layoutX="20" layoutY="320" style="-fx-font-size: 16px; -fx-font-weight: bold;" text="Resolution" />
            <TextArea fx:id="resolutionField" layoutX="20" layoutY="350" prefHeight="80" prefWidth="750" promptText="Enter resolution details here..." />
            <CheckBox fx:id="refundCheckbox" layoutX="20" layoutY="440" text="Issue Refund" />

            <!-- Refund Amount Input Field -->
            <Label layoutX="20" layoutY="470" style="-fx-font-size: 14px;" text="Refund Amount ($):" />
            <TextField fx:id="refundAmountField" layoutX="150" layoutY="465" prefWidth="100" promptText="Enter refund amount" />

            <!-- Buttons Row (Aligned Properly) -->
            <HBox layoutX="20" layoutY="500" spacing="15">
                <Button onAction="#handleResolveComplaint" style="-fx-background-color: #4CAF50; -fx-text-fill: white; -fx-font-size: 14px;" text="Resolve Complaint" />
                <Button onAction="#showResolvedComplaints" style="-fx-background-color: #008CBA; -fx-text-fill: white; -fx-font-size: 14px;" text="View Resolved Complaints" />
                <Button onAction="#handleBackToMain" style="-fx-background-color: #FF5733; -fx-text-fill: white; -fx-font-size: 14px;" text="Back to Main" />
            </HBox>

            <!-- Resolved Complaints Table -->

            <TableView fx:id="resolvedTable" layoutX="20" layoutY="550" onMouseClicked="#handleResolvedComplaintDoubleClick" prefHeight="250" prefWidth="750" visible="false">
                <columns>
                    <TableColumn fx:id="resolvedIdColumn" prefWidth="50" text="ID" />
                    <TableColumn fx:id="resolvedNameColumn" prefWidth="120" text="Customer Name" />
                    <TableColumn fx:id="resolvedEmailColumn" prefWidth="180" text="Email" />
                    <TableColumn fx:id="resolvedBranchColumn" prefWidth="100" text="Branch" />
                    <TableColumn fx:id="resolutionColumn" prefWidth="250" text="Resolution" />
                    <TableColumn fx:id="resolvedSubmittedColumn" prefWidth="150" text="Time Submitted" />
                    <TableColumn fx:id="handledColumn" prefWidth="150" text="Time Handled" />
                    <TableColumn fx:id="refundColumn" prefWidth="100" text="Refund Issued" />
                    <TableColumn fx:id="refundAmountColumn" prefWidth="120" text="Refund Amount ($)" />
                </columns>
            </TableView>


        </AnchorPane>
    </content>

</ScrollPane>
